(()=>{"use strict";(()=>{const e=document.querySelector(".club-select").querySelector("ul");window.addEventListener("click",(t=>{const l=t.target;l.closest(".club-select")?e.style.display="block":l.closest(".club-select>ul")||(e.style.display="none")}))})(),(()=>{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#free_visit_form"),l=document.querySelector("#callback_form"),o=document.querySelector("#gift");window.addEventListener("click",(s=>{const n=s.target;n.closest(".open-popup")?t.style.display="block":n.closest(".close-form")?t.style.display="none":n.closest("#form2")||(t.style.display="none"),n.closest(".callback-btn")?l.style.display="block":n.closest(".close_icon")?l.style.display="none":n.closest("#form1")||(l.style.display="none"),n.closest(".fixed-gift")?(o.style.display="block",e.style.display="none"):n.closest("#gift>.close_icon")||n.closest(".close-btn")?o.style.display="none":n.closest(".form-content")||(o.style.display="none")}))})(),(()=>{const e=document.querySelector(".popup-menu"),t=(document.querySelector(".menu-button"),document.querySelector(".top-menu")),l=t.offsetTop,o=document.querySelector("#my-style");if(window.addEventListener("click",(t=>{const l=t.target;l.closest(".menu-button")?e.style.display="flex":(l.closest(".close-menu-btn")||l.closest(".popup-menu>ul>li>a"))&&(e.style.display="none")})),!o){const e=document.createElement("style");e.setAttribute("id","my-style"),e.textContent="\n         .position {\n            position: fixed;\n            top:0;\n            right: 14px;\n            z-index: 300;\n         }\n\n      ",document.head.appendChild(e)}window.addEventListener("scroll",(e=>{window.pageYOffset>l?t.classList.add("position"):t.classList.remove("position")}))})(),(()=>{const e=document.querySelectorAll("form"),t=(document.querySelectorAll('input[type="checkbox"]'),document.querySelectorAll('button[type="submit"]'),/^[А-Яа-я ]{2,20}$/),l=/^(8|\+7)([0-9]{9,10})$/,o=e=>{e.value=e.value.replace(/-{2,}/g,"-"),e.value=e.value.replace(/\s{2,}/g," "),e.value=e.value.replace(/^[ \s]+|[ \s]+$/,""),e.value=e.value.replace(/^[/-]+|[/-]+$/,"")},s=e=>{"name"===e.name&&""!==e.value&&(t.test(e.value)?((e=>{let t=e.value.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e].slice(0,1).toUpperCase()+t[e].slice(1).toLowerCase();let l=t.join(" ");e.value=l})(e),o(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value="")),"phone"===e.name&&""!==e.value&&(l.test(e.value)?(o(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value=""))};e.forEach((e=>{for(let t of e.elements)"BUTTON"!==t.tagName&&t.addEventListener("blur",(()=>{s(t)}));e.addEventListener("submit",(t=>{t.preventDefault();for(let t of e.elements)"BUTTON"!==t.tagName&&""!==t.value&&(t.style.border="none")}))}))})()})();